# ?type conversions

### Преобразование строк

`alert` автоматически преобразует любое значение в строку, чтобы показать его. 

Преобразование строк в основном очевидно. А `false` становится `"false"`, `null` становится `"null"` и т.д.
Если мы складываем строку с числом, то будет строка.

`console.log("number" + 15 + 3); // "number153"`

`console.log(15 + 3 + "number"); // "18number"`

`console.log("foo" + +"bar"); // "fooNaN", потому что унарный оператор + имеет более высокий приоритет`

`console.log(["x"] == "x"); // 'x' == 'x' =>  true`

`console.log([] + null + 1); // '' + null + 1 => 'null' + 1 => 'null1'`

`console.log({}+[]+{}+[1]); // {}.toString() + [].toString + {}.toString + [1].toString => [object Object] + '' + [object Object] + '1' => '[object Object][object Object]1'`

Метод valueOf для типов Object и Array возвращают сами эти объекты, поэтому это значение игнорируется. Метод toString() используется как запасной вариант.

`console.log(!+[]+[]+![]); // ==> (!+[]) + [] + (![]) => !0 + [] + false => true + '' + false => 'truefalse'`

`console.log(new Date(0) + 0); // 'Thu Jan 01 1970 02:00:00 GMT+0200 (EET)0'`

В случае с типом Symbol дело несколько усложняется, так как значения этого типа можно преобразовать к строковому типу только явно.

`console.log('' + Symbol('hi')); // error`

### Числовое преобразование
Преобразование чисел в математические функции и выражения происходит автоматически.

`console.log(true + false); // 1`

Например, когда деление, умножение или вычитание (но не сложение) применяется к не числам:

`console.log(12 / "6"); // 2`

`console.log([1] > null); // '1' > 0 => 1 > 0 => true`

`console.log('true' == true); // нестрогое сравнение старается привести к числу. NaN == 1 => false`

`console.log(false == 'false'); // 0 == NaN => false`

`console.log(new Date(0) - 0); // 0 - 0 => 0`

Мы можем использовать `Number(value)` функцию для явного преобразования `value` в число. Если строка не является допустимым числом, результатом такого преобразования будет `NaN`.

`const i = Number(undefined);`

`console.log(i); // NaN`

### Логическое преобразование

Это происходит в логических операциях (позже мы встретимся с проверкой условий и другими подобными вещами), но также может быть выполнено явно с помощью вызова `Boolean(value)`.

##### Правило преобразования:

Значения, которые интуитивно «пусты», например `0`, пустая строка, `null`, `undefined` и `NaN`, становятся `false`.
Другие значения становятся `true`.

`if (2) { ... } // неявное преобразование в логическом контексте`

`!!2 // неявное преобразование логическим оператором`

`2 || 'hello' // неявное преобразование логическим оператором`

Примеры:

`console.log(!!"false" == !!"true"); // true, так как это не пустые строки`

`console.log(0 || "0" && {}); // (0 || "0") && {} => (false || true) && true  (внутреннее преобразование) => "0" && {} => true && true (внутреннее преобразование) => {}`
