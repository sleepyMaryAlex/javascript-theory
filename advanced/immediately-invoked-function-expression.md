# ?Immediately invoked function expression (IIFE)

_IIFE (самовызывающаяся функция)_ - это функция, которая выполняется сразу же после того, как она была определена.

~~~
(function () {
  const name = 'Mary';
  function greet() {
    console.log(`Hello ${name}`);
  }
  greet();
})();
~~~

Благодаря круглым скобкам переменные IIFE замыкаются в пределах скобок, и глобальная область видимости ими не засоряется. Когда IIFE выполняется, необходимые функции и переменные создаются, используются, и после того, как IIFE завершит выполнение, они доступны для сборки мусора, следовательно, освобождая память браузера. Функция мгновенно выполняется. Переменные внутри функции не могут быть использованы за пределами её области видимости.

Переменной можно присвоить результат выполнения функции, но не саму функцию.

~~~
const result = (function () {
  const name = 'Mary';
  return name;
})();

console.log(result); // Mary
~~~

Мы можем передавать аргументы в IIFE.

### IIFE pattern
Для создания закрытой области видимости можно использовать паттерн Модуль. Переменная `name` является приватной в IIFE и никто кроме функций, имеющих доступ к IIFE через замыкание, не имеет к ней доступа. Благодаря паттерну мы можем обратиться к функции внутри IIFE.

~~~
const Module = (function () {
  const name = 'Mary';
  return {
    greet() {
      return `Hello ${name}`;
    }
  }
})();

console.log(Module.greet()); // Hello Mary
~~~

> Вы можете столкнуться с ошибками, если пропустите точку с запятой, особенно в приложениях, использующих IIFE. Вот пример:

~~~
const greeting = "Hello world"

(function () {
    console.log(greeting);
})();
~~~
