# ?Descriptors & property flags

_Дескриптор_ – объект, который описывает поведение свойства.

Дескрипторы свойств, присутствующие в объектах, бывают двух основных типов:

* Дескриптор данных - это свойство, имеющее значение, которое может быть (а может и не быть) записываемым (`enumerable`, `configurable`, `value`, `writable`).
* Дескриптор доступа - это свойство, описываемое парой функций - геттером и сеттером (`enumerable`, `configurable`, `get`, `set`).

__Дескриптор может быть только чем-то одним из этих двух типов; он не может быть одновременно обоими.__

И дескриптор данных, и дескриптор доступа являются объектами. Они обладают следующими обязательными ключами:

* `configurable` - если `true`, то свойство можно удалять, а также менять значения его атрибутов перечисляемости, настраиваемости в дальнейшем при помощи новых вызовов `defineProperty`.
* `enumerable` - если `true`, то свойство просматривается в цикле `for..in` и методе `Object.keys()`.

Дескриптор данных также может содержать следующие дополнительные ключи:

* `writable` - если `true`, значение свойства можно менять с помощью оператора присваивания.
* `value` - значение свойства

Дескриптор доступа также может содержать следующие дополнительные ключи:

* `get` - возвращаемое значение этой функции будет использоваться как значение свойства.
* `set` - функция принимает единственным аргументом новое значение, присваиваемое свойству.

`Object.defineProperty()` - определяет новое или изменяет существующее свойство объекта.

Пример добавления свойства к объекту через `defineProperty()` с дескриптором данных:

~~~
Object.defineProperty(countryCanada, 'language', {
  value: 'eng',
  enumerable: false,
  configurable: false,
  writable: false,
});
~~~

По умолчанию все дескрипторы установлены в `false` или `undefined`. Но когда мы создаём свойство «обычным способом», все они имеют значение `true`.

Пример добавления свойства к объекту через `defineProperty()` с дескриптором доступа:

~~~
let value = null;
Object.defineProperty(countryCanada, 'language', {
  enumerable: true,
  configurable: true,
  set: (newValue) => value = newValue,
  get: () => value
});

countryCanada.language = 'fr';
console.log(countryCanada.language);  // fr
~~~

> Флагами свойств объекта считаются следующие ключи: `configurable`, `enumerable`, `writable`.
