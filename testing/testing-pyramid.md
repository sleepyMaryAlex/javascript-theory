# ?Testing pyramid

Пирамида пытается визуально представить логическую организацию стандартов тестирования. Он состоит из трех отдельных слоев:

![Testing pyramid](../images/testing-pyramid.jpg)

Основание пирамиды составляют _модульные тесты (unit tests)_. Юнит — это небольшой логический фрагмент кода: это может быть функция, класс или даже метод в классе.

Модульный тест проверяет только то, что указанный юнит ведет себя так, как задумал разработчик. Вызывая тестируемый код напрямую и оценивая его вывод, разработчик может написать модульный тест, не завися от каких-либо других компонентов или пользовательского интерфейса.

Уровнем выше, в середине пирамиды, мы находим _интеграционные тесты (integration tests)_. Интеграция в этом контексте относится к тестированию совместной работы различных компонентов системы. Например, может ли модель в коде правильно обмениваться данными с базой данных или может ли метод получать информацию из API.

На вершине пирамиды находятся _end-to-end tests (E2E)_. E2E. Вместо того, чтобы проводить тесты человеком, E2E-тесты полностью автоматизированы. Каждое взаимодействие с пользователем имитируется; тест E2E может нажимать кнопки, вводить значения и оценивать то, что показывает пользовательский интерфейс.

### Почему пирамида?

Чтобы понять, как пирамида приобрела свою форму, мы должны разобраться в тонкостях каждого типа теста.

_Модульные тесты_ небольшие, поэтому их легко писать и поддерживать. Поскольку они тестируют очень небольшие части кода, нам нужно их много. Обычно это не проблема, потому что модульные тесты достаточно легкие, и мы можем запустить тысячи из них за несколько секунд.

Посередине мы находим _интеграционные тесты_. Нам не нужно их так много, так как мы заинтересованы только в тестировании «граней» приложения. По сравнению с модульными тестами, интеграционные тесты требуют больше ресурсов для запуска.

_Тесты E2E_ находятся на дальнем конце спектра. Они сложны в написании, сложны в обслуживании, требуют много ресурсов и работают медленно. Но, поскольку мы можем покрыть большую часть приложения несколькими тестами E2E, нам нужно их меньше.

Вот почему пирамида: ширина каждого слоя представляет собой относительную величину для каждого вида теста. Другими словами, пирамида говорит, что у нас должно быть несколько E2E тестов, приличное количество интеграционных тестов и множество модульных тестов.
