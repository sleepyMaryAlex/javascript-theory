# ?TDD and BDD

### TDD — Test Driven Development

_TDD_ — это методология разработки ПО, которая основывается на повторении коротких циклов разработки:

1. Изначально пишется тест, покрывающий желаемое изменение.
2. Затем пишется программный код, который реализует желаемое поведение системы и позволит пройти написанный тест.
3. Затем проводится рефакторинг написанного кода с постоянной проверкой прохождения тестов.

TDD считается одной из форм правильного метода построения приложения.

Философия разработки на основе тестов заключается в том, что ваши тесты являются спецификацией того, как ваша программа должна вести себя.

Если вы рассматриваете свой набор тестов как обязательную часть процесса сборки, если ваши тесты не проходят, программа не собирается, потому что она неверна.

Конечно, ограничение заключается в том, что правильность вашей программы определена только как полнота ваших тестов. Тем не менее, исследования показали, что разработка, основанная на тестировании, может привести к снижению ошибок на 40-80% в производстве.

Архитектура программных продуктов, разрабатываемых таким образом, обычно лучше (в приложениях, которые пригодны для автоматического тестирования, обычно очень хорошо распределяется ответственность между компонентами, а выполняемые сложные процедуры декомпозированы на множество простых).

Стабильность работы приложения, разработанного через тестирование, выше за счёт того, что все основные функциональные возможности программы покрыты тестами и их работоспособность постоянно проверяется.

Разработчики могут не бояться вносить изменения в код, если что-то пойдёт не так, то об этом сообщат результаты автоматического тестирования.

### BDD — Behaviour Driven Development

Из-за некоторого методологического сходства _TDD (Test Driven Development)_ и _BDD (Behaviour Driven Development)_ часто путают.

Концепции обоих подходов похожи, сначала идут тесты и только потом начинается разработка, но предназначение у них совершенно разное.

TDD — это больше о программировании и тестировании на уровне технической реализации продукта, когда тесты создают сами разработчики.

__BDD предполагает описание тестировщиком или аналитиком пользовательских сценариев на естественном языке — если можно так выразиться, на языке бизнеса.__

_BDD — behaviour-driven development_ — это разработка, основанная на описании поведения.

Определенный человек (или люди) пишет описания вида "я как пользователь хочу когда нажали кнопку пуск, тогда показывалось меню как на картинке" (там есть специально выделенные ключевые слова). Программисты давно написали специальные тулы, которые подобные описания переводят в тесты (иногда совсем прозрачно для программиста). А дальше классическая разработка с тестами.

Если записывать названия тестов в виде предложений и при записи имен методов использовать лексику бизнес-домена, созданная документация становится понятна заказчикам, аналитикам и тестировщикам.

Тексты сценариев записываются в определенной форме:

* __Имея (given)__ какой-то контекст,
* __Когда (when)__ происходит событие,
* __Тогда (then)__ проверить результат.

Может получиться что-то подобное:

~~~
Scenario: Add two numbers

Given I have entered 50 into the calculator and I have entered 70 into the calculator
When I press add
Then the result should be 120 on the screen
~~~

BDD — скорее, процесс, целью которого является удешевление реализации новых фич. Еще на старте разработки мы получаем важные артефакты. Например, понятную для поддержки документацию. Эта документация дает возможность всем заинтересованным лицам сформировать свое представление о продукте и сценариях пользовательского поведения, которые должны быть реализованы в ходе итераций разработки. С BDD-подходом мы также снижаем порог входа в проект новых участников.

В чем преимущество BDD?

* Тесты читаемые для не программистов.
* Их легко изменять. Они часто пишутся почти на чистом английском.
* Их может писать _product owner_ или другие заинтересованные лица.
* Результаты выполнения тестов более "человечные".
* Тесты не зависят от целевого языка программирования. Миграция на другой язык сильно упрощается.

Минусы:

Но у данного подхода есть и недостатки — это долго и дорого. BDD неудобен хотя бы тем, что требует привлечения специалистов тестирования уже на этапе проработки требований, а это удлиняет цикл разработки.

Выходом из этой ситуации может оказаться выбор подходящего BDD фреймворка и правильно выстроенных процессов разработки.
